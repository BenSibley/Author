!function(a){"use strict";a.fn.fitVids=function(b){var c={customSelector:null,ignore:null};if(!document.getElementById("fit-vids-style")){var d=document.head||document.getElementsByTagName("head")[0],e=".fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}",f=document.createElement("div");f.innerHTML='<p>x</p><style id="fit-vids-style">'+e+"</style>",d.appendChild(f.childNodes[1])}return b&&a.extend(c,b),this.each(function(){var b=['iframe[src*="player.vimeo.com"]','iframe[src*="youtube.com"]','iframe[src*="youtube-nocookie.com"]','iframe[src*="kickstarter.com"][src*="video.html"]',"object","embed"];c.customSelector&&b.push(c.customSelector);var d=".fitvidsignore";c.ignore&&(d=d+", "+c.ignore);var e=a(this).find(b.join(","));e=e.not("object object"),e=e.not(d),e.each(function(){var b=a(this);if(!(b.parents(d).length>0||"embed"===this.tagName.toLowerCase()&&b.parent("object").length||b.parent(".fluid-width-video-wrapper").length)){b.css("height")||b.css("width")||!isNaN(b.attr("height"))&&!isNaN(b.attr("width"))||(b.attr("height",9),b.attr("width",16));var c="object"===this.tagName.toLowerCase()||b.attr("height")&&!isNaN(parseInt(b.attr("height"),10))?parseInt(b.attr("height"),10):b.height(),e=isNaN(parseInt(b.attr("width"),10))?b.width():parseInt(b.attr("width"),10),f=c/e;if(!b.attr("id")){var g="fitvid"+Math.floor(999999*Math.random());b.attr("id",g)}b.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",100*f+"%"),b.removeAttr("height").removeAttr("width")}})})}}(window.jQuery||window.Zepto),jQuery(document).ready(function(a){function b(){if(p.hasClass("open"))p.trigger("close"),p.removeClass("open"),a(this).children("span").text(objectL10n.openPrimaryMenu),a(this).attr("aria-expanded","false"),a("#menu-primary-items ul, .menu-unset ul").removeAttr("style"),a(".menu-item-has-children").each(function(){a(this).hasClass("open")&&a(this).removeClass("open")}),g(),d(),a(window).unbind("scroll",k);else{p.addClass("open"),p.trigger("open"),a(this).children("span").text(objectL10n.closePrimaryMenu),a(this).attr("aria-expanded","true");var b=a(window).width();if(b>549&&950>b){var c=0;q.find(".social-media-icons").length&&(c=q.find(".social-media-icons").find("ul").outerHeight());var e=t.outerHeight(),f=p.outerHeight(),h=s.height();r.css("min-height",h+f+c+e+"px"),a(window).scroll(k)}}}function c(){var b=a(this).parent();b.hasClass("open")?(b.removeClass("open"),a(this).children("span").text(objectL10n.openChildMenu),a(this).attr("aria-expanded","false")):(b.addClass("open"),a(this).children("span").text(objectL10n.closeChildMenu),a(this).attr("aria-expanded","true"),v=!1)}function d(){var b=a(window).width();if(b>549&&950>b){var c=0;q.find(".social-media-icons").length&&(c=q.find(".social-media-icons").find("ul").outerHeight());var d=t.outerHeight(),e=p.outerHeight();a("#menu-primary").css("top",e+c+24+"px"),s.css("top",e+c+d+48+"px")}else a("#sidebar-primary, #menu-primary").css("top","")}function e(){var b=a(window).width();if(b>549&&950>b){var c=a(this).next(),d=0;c.children().each(function(){d+=a(this).height()});var e=s.css("top"),f=r.css("min-height");e=parseInt(e),f=parseInt(f);var g=a(this).parent();g.hasClass("open")?(s.css("top",e+d+"px"),r.css("min-height",f+d+"px")):(s.css("top",e-d+"px"),r.css("min-height",f-d+"px"))}}function f(){a(window).width()>949&&p.hasClass("open")&&b()}function g(){r.css("min-height",""),r.css("min-height",a("#overflow-container").height()+"px")}function h(){if(950>a(window).width()){p.removeAttr("style")}}function i(){var b=a("#overflow-container"),c=a(window).width(),d=a(window).height(),e=b.height(),f=p.outerHeight(),g=a(window).scrollTop(),h=a("body").hasClass("admin-bar")?a("#wpadminbar").height():0;950>c||(f+h>d&&1!=v?g>u?l?(l=!1,w=p.offset().top>0?p.offset().top-h:0,p.attr("style","top: "+w+"px;")):!m&&g+d>f+p.offset().top&&e>f+h?(m=!0,p.attr("style","position: fixed; bottom: 0;")):f+h>d&&!m&&(w=p.offset().top>0?p.offset().top-h:0,p.attr("style","top: "+w+"px;")):u>g?m?(m=!1,w=p.offset().top>0?p.offset().top-h:0,p.attr("style","top: "+w+"px;")):!l&&g>0&&g+h<p.offset().top&&(l=!0,p.attr("style","position: fixed;")):l=m=!1:l||(l=!0,v=!0,p.attr("style","position: fixed;")),u=g)}function j(){h(),i()}function k(){var c=s.offset().top+s.height(),d=a(window).scrollTop();d>c+50&&b()}var l,m,n,o=a(".toggle-dropdown"),p=a("#main-sidebar"),q=a("#site-header"),r=a("#main"),s=a("#sidebar-primary"),t=a(a(".menu-unset").length?".menu-unset":"#menu-primary-items"),u=0,v=!1,w=0;d(),g(),a(window).resize(function(){d(),f(),g()}),a(".post-content").fitVids(),a("#toggle-navigation").on("click",b),o.on("click",c),o.on("click",e),a(window).on("scroll",i).on("resize",function(){clearTimeout(n),n=setTimeout(j,500)}),p.on("click keydown","button",j),j();for(var x=1;6>x;x++)setTimeout(j,100*x)}),window.addEventListener("hashchange",function(){var a=document.getElementById(location.hash.substring(1));a&&(/^(?:a|select|input|button|textarea)$/i.test(a.tagName)||(a.tabIndex=-1),a.focus())},!1);